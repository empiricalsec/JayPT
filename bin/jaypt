#!/usr/bin/env ruby
require_relative "../lib/jaypt"

def main
  models = [
    "google/gemini-2.5-pro-preview",
    "openai/gpt-4.1",
    "anthropic/claude-opus-4"
  ]

  models.each do |model|
    start_time = Time.now
    results = JayPT::Agent.new(model:).score_cve(ARGV.first)
    end_time = Time.now

    puts "Model: #{model}"
    puts "Score: #{results[:score]}"
    puts "Analysis: #{results[:analysis]}"
    puts "Time taken: #{end_time - start_time} seconds\n\n"
  end
end

main if __FILE__ == $PROGRAM_NAME
